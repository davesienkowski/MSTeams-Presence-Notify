# MS Teams Presence - Integrated Configuration
# Complete setup for Raspberry Pi + Unicorn HAT with mobile integration

# ============================================================================
# TEAMS STATUS SERVER
# ============================================================================
server:
  # URL of your Windows PC running the PowerShell status server
  # Replace YOUR_PC_IP with your actual PC IP address (e.g., 192.168.1.100)
  url: "http://YOUR_PC_IP:8080/status"

  # How often to poll for status updates (in seconds)
  poll_interval: 5

# ============================================================================
# UNICORN HAT LED DISPLAY
# ============================================================================
unicorn:
  # LED brightness (0.0 to 1.0)
  # Lower values save power and reduce eye strain
  brightness: 0.5

  # Animation mode for status display
  # Options: solid, pulse, gradient, ripple, spinner
  animation_mode: "pulse"

# ============================================================================
# WEB DASHBOARD (Mobile Viewing)
# ============================================================================
web:
  # Enable/disable web dashboard
  enabled: true

  # Web server settings
  host: "0.0.0.0"  # Listen on all network interfaces
  port: 5000        # Web server port

  # Access your dashboard at: http://<raspberry-pi-ip>:5000

# ============================================================================
# PUSH NOTIFICATIONS (via ntfy.sh)
# ============================================================================
notifications:
  # Enable/disable push notifications
  enabled: true

  # ntfy.sh topic name (should be unique to avoid receiving others' notifications)
  # Example: myteamspresence_john_doe_12345
  ntfy_topic: "myteamspresence"

  # ntfy.sh server URL (default is public server)
  # You can self-host ntfy.sh if desired: https://docs.ntfy.sh/
  ntfy_server: "https://ntfy.sh"

  # Only send notifications when status changes (not on every poll)
  only_on_change: true

  # To receive notifications on your mobile:
  # 1. Install ntfy app from Google Play or Apple App Store
  # 2. Add topic: your ntfy_topic value (e.g., "myteamspresence")
  # 3. You'll receive push notifications when your status changes

# ============================================================================
# HOME ASSISTANT INTEGRATION (via MQTT)
# ============================================================================
homeassistant:
  # Enable/disable Home Assistant integration
  enabled: false

  # MQTT broker connection details
  mqtt_broker: "homeassistant.local"  # Your Home Assistant IP or hostname
  mqtt_port: 1883                      # Default MQTT port
  mqtt_username: ""                    # MQTT username (if required)
  mqtt_password: ""                    # MQTT password (if required)

  # MQTT topic for status updates
  mqtt_topic: "homeassistant/sensor/teams_presence"

  # Home Assistant MQTT discovery prefix (usually don't change this)
  discovery_prefix: "homeassistant"

  # After enabling, the sensor will automatically appear in Home Assistant as:
  # sensor.teams_presence_status
  #
  # You can use it in automations:
  # - Turn on red light when status is "Busy"
  # - Send notification to family when you're "Available"
  # - Integrate with smart home routines

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================

# Maximum number of status changes to keep in history
# (affects web dashboard history display)
max_history: 100

# Connection retry settings
max_connection_errors: 5  # Show error state after this many failed connections
